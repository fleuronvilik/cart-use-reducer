{"version":3,"sources":["reducer.js","context.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","filter","item","id","itemId","map","amount","data","Error","AppContext","React","createContext","AppProvider","children","useReducer","cart","dispatch","useState","count","setCount","total","setTotal","loading","setLoading","useEffect","fetch","then","response","json","length","reduce","Number","price","Provider","value","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","img","title","src","alt","onClick","CartContainer","key","toFixed","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.88669226.chunk.js","sourcesContent":["export default function reducer (state, action) {\n  if (action.type === \"REMOVE_ITEM\") {\n    return state.filter(item => item.id !== action.itemId)\n  }\n  \n  if (action.type === \"INCREASE\") {\n    return state.map(item => {\n      if (item.id === action.itemId) item.amount = action.amount\n      return item\n    }) \n  }\n  \n  if (action.type === \"DECREASE\") {\n    return state.map(item => {\n      if (item.id === action.itemId) item.amount = action.amount//--item.amount \n      return item\n    }) \n  }\n  \n  if (action.type === \"CLEAR\") {\n    return []\n  }\n  \n  if (action.type === \"INIT\") {\n    return action.data\n  }\n  \n  throw new Error(\"no matching type\")\n}","import React, { useState, useContext, useReducer, useEffect } from 'react'\n// Previous Hard Coded Value\n// import cartItems from './data'\nimport reducer from './reducer'\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-useReducer-cart-project'\nconst AppContext = React.createContext()\n\nconst AppProvider = ({ children }) => {\n  const [cart, dispatch] = useReducer(reducer, [/* cartItems */])\n  const [count, setCount] = useState(0)\n  const [total, setTotal] = useState(0)\n  const [loading, setLoading] = useState(true)\n  useEffect(() => {\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        dispatch({ type: \"INIT\", data })\n        setCount(data.length)\n        setTotal(data\n        /********/.reduce((total, item) => {\n        /********/    return total + Number(item.price)\n        /********/  }, 0))\n        setLoading(false)\n      })\n  }, [])\n\n  return (\n    <AppContext.Provider\n      value={{\n        cart,\n        count,\n        setCount,\n        dispatch,\n        total,\n        setTotal,\n        loading,\n        setLoading\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext)\n}\n\nexport { AppContext, AppProvider }\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst Navbar = () => {\n  const { count } = useGlobalContext()\n  return (\n    <nav>\n      <div className='nav-center'>\n        <h3>useReducer</h3>\n        <div className='nav-container'>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n          </svg>\n          <div className='amount-container'>\n            <p className='total-amount'>{count}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { dispatch, count, setCount, total, setTotal } = useGlobalContext()\n  \n  price = Number(price)\n  \n  return (\n    <article className='cart-item'>\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className='item-price'>${price}</h4>\n        {/* remove button */}\n        <button\n          className='remove-btn'\n          onClick={() => {\n            //remove(id)\n            dispatch({ type: \"REMOVE_ITEM\",  itemId: id})\n            setCount(count-amount)\n            setTotal(total - amount * price)\n          }}\n        >\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button\n          className='amount-btn'\n          onClick={() => {\n            dispatch({ type: \"INCREASE\", itemId: id, amount: ++amount})\n            setCount(count+1)\n            setTotal(total + price)\n            \n          }\n        }>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className='amount'>{amount}</p>\n        {/* decrease amount */}\n        <button \n          className='amount-btn'\n          onClick={() => {\n            if (amount > 1) {\n              dispatch({ type: \"DECREASE\", itemId: id, amount: --amount})\n              setCount(count-1)\n              setTotal(total - price)    \n              return\n            }\n            dispatch({ type: \"REMOVE_ITEM\", itemId: id})\n            setCount(count-1)\n            setTotal(total - price)\n          }}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n          </svg>\n        </button>\n      </div>\n    </article>\n  )\n}\n\nexport default CartItem\n","import React from 'react'\nimport CartItem from './CartItem'\nimport { useGlobalContext } from './context'\n\nconst CartContainer = () => {\n  const { cart, dispatch, setCount, total } = useGlobalContext()\n  //console.log(cart)\n  if (cart.length === 0) {\n    return (\n      <section className='cart'>\n        {/* cart header */}\n        <header>\n          <h2>your bag</h2>\n          <h4 className='empty-cart'>is currently empty</h4>\n        </header>\n      </section>\n    )\n  }\n  return (\n    <section className='cart'>\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className='cart-total'>\n          <h4>\n            total <span>${total.toFixed(2)}</span>\n          </h4>\n        </div>\n        <button\n          className='btn clear-btn'\n          onClick={() => {\n            dispatch({ type: \"CLEAR\"});\n            setCount(0) \n          }}\n        >\n          clear cart\n        </button>\n      </footer>\n    </section>\n  )\n}\n\nexport default CartContainer\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\n// components\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\n// items\n\nfunction App() {\n  const { loading } = useGlobalContext()\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}